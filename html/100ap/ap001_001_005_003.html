<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ビット操作とマスクパターン</title>
<meta name="description" content="「正の整数の表現」は、２進数の小数点の左に記載する事で表現できる数です。" />
<!-- ------------------------------------------------------------------------------- -->
<SCRIPT type="text/javascript" src="../../js/pages/commonHeaderSetting.js"></SCRIPT>
<!-- ------------------------------------------------------------------------------- -->
<script type="text/javascript" src="../../js/pages/analytics.js"></script>
<!-- ------------------------------------------------------------------------------- -->
</head>
<body>
<h1>5.3　ビット操作とマスクパターン</h1>
<div id="lastdaytime"></div>
<div id="toc"></div>
<!--===============================================================================================================-->
<div id="animate-title00"><h2>概要</h2></div>
<div id="animate-block00">
<table><tr><td>
　基本的な論理積算が終わったら次は色々な応用や発展形を考えなければなりません。コンピュータの実体は全てビット演算で出来ているので、突き詰めて行けば、やっていることはビット内容を変更する事です。<br>
　まずは簡単なところから、よくある処理で８ビットのビット列があり、その中の４ビットだけ取り出したい場合、どの様にすればよいでしょうか。ちなみに、ここでいう取り出すとは『10101010』という８ビットを上位４ビットを全部０にして、下位の４ビットをそのまま保持するようにします。という事で答えとして『00001010』となればよい事になります。<br>
　ここで使用するのが論理積です。論理積とは『両方が１の場合だけ１になるビット演算』でした。そのパターンは、『０&０=０』『０&１=０』『１&０=０』『１&１=１』の４つでしたね。さて、この４つを見て気づく事がありませんか？<br>
　『Ａ&Ｂ=Ｃ』として考えてみます。そうすると、ある法則が見えてきませんか。『０&０=０』と『１&０=０』の２つに注目してみましょう。この２つはＢの値が０の式ですが、Ａの値に関係なくＣが０になっていますね。という事は、取り出したくないビットと０を論理積で計算すれば、必ず０にする事が出来ますね。<br>
　次に『０&１=０』と『１&１=１』の２つに注目してみましょう。今度はどちらもＢの値が１になっています。そしてＡの値とＣの値が同じになります。ということは、取り出したいビットと１を論理積で計算すれば、対象のビットをそのまま維持する事が出来ますね。<br>
　これで役者は揃いました。分かりやすく言うと、取り出したくない部分に０を掛算し、取り出したい部分に１を掛算する事で目的を果たす事が出来ます。上記の例で行くと『10101010』から上位４ビットを全部０にして、下位４ビットをそのまま残したい時には『00001111』の８ビットとの論理積計算をすればよい事になります。<br>
　あとよくある処理としてビット反転があります。『10101010』であれば、各ビットの『０』を『１』にして、『１』を『０』にする処理で『01010101』にしたい場合があります。詳細はこのページに図示しておきますが、反転したいビットと『１』で排他的論理和を行う事で実現させる事が出来ます。<br>
　このように、ビット演算と特定のビットパターンを活用する事で様々な処理計算が可能になります。<br>
</td></tr></table>

<dl>
<dt>■<b>ビットの反転</b></dt><dd>排他論理和（EOR, XOR）を使って真偽を入れ替える</dd>
<dt>■<b>特定のビットを取り出す</b></dt><dd>論理積（AND）を使用して特定ビットを選択</dd>
</dl>
</div>
<!--===============================================================================================================-->
<div id="animate-title01"><h3>ビットの反転</h3></div>
<div id="animate-block01" style="display:none">
　
<p class="resizeimage">
<img src="../../images/100ap/ap001_001_005_003_A.jpg" >
</p>
</div>
<!--===============================================================================================================-->
<div id="animate-title02"><h3>特定のビットを取り出す</h3></div>
<div id="animate-block02" style="display:none">
　
<p class="resizeimage">
<img src="../../images/100ap/ap001_001_005_003_B.jpg" >
</p>
</div>

<!--===============================================================================================================-->
<!-- <div id="animate-title03"><h2>詳細</h2></div>
<div id="animate-block03" style="display:none">
</div> -->
<!--===============================================================================================================-->
<div id="animate-title99"><h2>備考</h2></div>
<div id="animate-block99" style="display:none">

</div>
<!--===============================================================================================================-->
</body>
</html>